<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Director | Dashboard</title>
    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
    <meta name="description" content="Developed By M Abdur Rokib Promy">
    <meta name="keywords" content="Admin, Bootstrap 3, Template, Theme, Responsive">
    <!-- bootstrap 3.0.2 -->
    <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <!-- font Awesome -->
    <link href="css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
    <!-- Ionicons -->
    <link href="css/ionicons.min.css" rel="stylesheet" type="text/css"/>
    <!-- Morris chart -->
    <link href="css/morris/morris.css" rel="stylesheet" type="text/css"/>
    <!-- jvectormap -->
    <link href="css/jvectormap/jquery-jvectormap-1.2.2.css" rel="stylesheet" type="text/css"/>
    <!-- Date Picker -->
    <link href="css/datepicker/datepicker3.css" rel="stylesheet" type="text/css"/>
    <!-- fullCalendar -->
    <!-- <link href="css/fullcalendar/fullcalendar.css" rel="stylesheet" type="text/css" /> -->
    <!-- Daterange picker -->
    <link href="css/daterangepicker/daterangepicker-bs3.css" rel="stylesheet" type="text/css"/>
    <!-- iCheck for checkboxes and radio inputs -->
    <link href="css/iCheck/all.css" rel="stylesheet" type="text/css"/>
    <!-- bootstrap wysihtml5 - text editor -->
    <!-- <link href="css/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css" rel="stylesheet" type="text/css" /> -->
    <link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
    <!-- Theme style -->
    <link href="css/style.css" rel="stylesheet" type="text/css"/>
    <link href="./libs/c3-0.4.10/c3.css" rel="stylesheet" type="text/css">

    <!-- Load d3.js and c3.js -->
    <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="./libs/c3-0.4.10/c3.min.js"></script>
    <script language="JavaScript" type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <style type="text/css">

    </style>
</head>
<body class="skin-black">
<!-- header logo: style can be found in header.less -->
<header class="header">
    <a href="index.html" class="logo">
        Dashboard
    </a>
    <!-- Header Navbar: style can be found in header.less -->
    <nav class="navbar navbar-static-top" role="navigation">
        <!-- Sidebar toggle button-->
        <a href="#" class="navbar-btn sidebar-toggle" data-toggle="offcanvas" role="button">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </a>

        <div class="navbar-right">
            <ul class="nav navbar-nav">
                <!-- User Account: style can be found in dropdown.less -->
                <li class="dropdown user user-menu">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        <i class="fa fa-user"></i>
                        <span>Bienvenue <i class="caret"></i></span>
                    </a>
                    <ul class="dropdown-menu dropdown-custom dropdown-menu-right">
                        <li class="dropdown-header text-center">Account</li>

                        <li>
                            <a href="#">
                                <i class="fa fa-clock-o fa-fw pull-right"></i>
                                <span class="badge badge-success pull-right">10</span> Updates</a>
                            <a href="#">
                                <i class="fa fa-envelope-o fa-fw pull-right"></i>
                                <span class="badge badge-danger pull-right">5</span> Messages</a>
                            <a href="#"><i class="fa fa-magnet fa-fw pull-right"></i>
                                <span class="badge badge-info pull-right">3</span> Subscriptions</a>
                            <a href="#"><i class="fa fa-question fa-fw pull-right"></i> <span class=
                                                                                                      "badge pull-right">11</span>
                                FAQ</a>
                        </li>

                        <li class="divider"></li>

                        <li>
                            <a href="#">
                                <i class="fa fa-user fa-fw pull-right"></i>
                                Profile
                            </a>
                            <a data-toggle="modal" href="#modal-user-settings">
                                <i class="fa fa-cog fa-fw pull-right"></i>
                                Settings
                            </a>
                        </li>

                        <li class="divider"></li>

                        <li>
                            <a href="#"><i class="fa fa-ban fa-fw pull-right"></i> Logout</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </nav>
</header>
<div class="wrapper row-offcanvas row-offcanvas-left">
    <!-- Left side column. contains the logo and sidebar -->
    <aside class="left-side sidebar-offcanvas">
        <!-- sidebar: style can be found in sidebar.less -->
        <section class="sidebar">
            <!-- Sidebar user panel -->
            <div class="user-panel">
                <div class="pull-left image">
                    <img src="img/26115.jpg" class="img-circle" alt="User Image"/>
                </div>
                <div class="pull-left info">
                    <p>Hello, Vincent</p>

                    <a href="#"><i class="fa fa-circle text-success"></i> Online</a>
                </div>
            </div>

            <!-- sidebar menu: : style can be found in sidebar.less -->
            <ul class="sidebar-menu">
                <li class="active">
                    <a href="index.html">
                        <i class="fa fa-dashboard"></i> <span>Dashboard</span>
                    </a>
                </li>
                <li>
                    <a href="general.html">
                        <i class="fa fa-gavel"></i> <span>General</span>
                    </a>
                </li>

                <li>
                    <a href="https://github.com/MichaelCaraccio/iot-appengine">
                        <i class="fa fa-github"></i> <span>Github</span>
                    </a>
                </li>

                <li>
                    <a href="https://github.com/MichaelCaraccio/iot-appengine/wiki">
                        <i class="fa fa-book"></i> <span>Wiki</span>
                    </a>
                </li>

            </ul>
        </section>
        <!-- /.sidebar -->
    </aside>

    <aside class="right-side">

        <!-- Main content -->
        <section class="content">

            <div class="row" style="margin-bottom:5px;">

                <div class="col-md-12">
                    <div class="sm-st clearfix">
                        <h1>Pressure, humidity and Temperature</h1>

                        <div id="chartPH"></div>

                        <h1>Gyroscope and accelerometer</h1>

                        <div id="chartGyro"></div>

                        <h1>Light and Battery status</h1>

                        <div id="chartLB"></div>

                    </div>
                </div>
            </div>

            <!-- Main row -->
            <div class="row" id="linkDashboard">
            </div>

        </section><!-- /.content -->
        <div class="footer-main">
            Copyright &copy Dashboard, 2015
        </div>
    </aside><!-- /.right-side -->

</div><!-- ./wrapper -->

<script type="application/javascript">

    function getParameterByName(name) {
        name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
                results = regex.exec(location.search);
        return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
    }

    var guid = getParameterByName('guid');

    var address = "/rest/charts/1/" + guid;
    var result = [];

    var getValues = $.getJSON(address, function (data) {
        result = JSON.stringify(data.slice(0));
    });

    getValues.complete(function () {
        //console.log(result);

        var newStr = result.substring(1, result.length - 1);
        console.log(newStr);

        // Gyroscope and Accelerometer
        var chart = c3.generate({
            bindto: '#chartGyro',
            data: {
                url: address,
                mimeType: 'json',

                keys: {
//                x: 'name', // it's possible to specify 'x' when category axis
                    value: ['accelX', 'accelY', 'accelZ', 'gyroX', 'gyroY', 'gyroZ']
                },
                axis: {
                    x: {
//                type: 'category'
                    }
                }
            }
        });

        // Pressure and humidity
        var chart = c3.generate({
            bindto: '#chartPH',
            data: {
                url: address,
                mimeType: 'json',

                keys: {
//                x: 'name', // it's possible to specify 'x' when category axis
                    value: ['pressure', 'humidity', 'objtemp']
                },
                axis: {
                    x: {
//                type: 'category'
                    }
                }
            }
        });

        // Light and Battery
        var chart = c3.generate({
            bindto: '#chartLB',
            data: {
                url: address,
                mimeType: 'json',

                keys: {
//                x: 'name', // it's possible to specify 'x' when category axis
                    value: ['light', 'battery']
                },
                axis: {
                    x: {
//                type: 'category'
                    }
                }
            }
        });


    });


</script>
</body>
</html>
